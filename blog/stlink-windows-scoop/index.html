<!doctype html><html lang=zh-CN><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon size=180x180 href=https://pagliacii.github.io/silent-lake/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://pagliacii.github.io/silent-lake/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://pagliacii.github.io/silent-lake/images/favicon-16x16.png><link rel=manifest href=https://pagliacii.github.io/silent-lake/images/site.webmanifest><link rel=mask-icon href=https://pagliacii.github.io/silent-lake/images/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=https://pagliacii.github.io/silent-lake/images/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config content="https://pagliacii.github.io/silent-lake/images/browserconfig.xml"><meta name=theme-color content="#fff"><title>在 Windows 上用 Scoop 安装 ST-Link 工具 | ୧ʕ •ᴥ•ʔ୨ Silent Lake</title><meta name=title content="在 Windows 上用 Scoop 安装 ST-Link 工具"><meta name=description content="最近入手了一块 STM32 Nucleo-144 board，用来学习 Bare metal programming。因为板子上集成了 ST-Link，所以也不需要再购买额外的编程器了，虽然我还有一个 Muse Lab 的 nanoDAP-HS 就是了。最后只需要安装好软件 stlink 和驱动可以正常进行烧录和调试了。
安装驱动
首先前往 ST 官网下载并安装驱动 STSW-LINK009。这一步没啥好说的，注册个账号然后下载安装就好。
安装 stlink 工具
可以直接从 stlink 的 GitHub releases 下载，也可以从源码编译安装。我是通过 Scoop 来安装的。

  
    
      
        
      
      Warning
    
   "><meta name=author content><meta name=keywords content><meta property="og:title" content="在 Windows 上用 Scoop 安装 ST-Link 工具"><meta property="og:description" content="最近入手了一块 STM32 Nucleo-144 board，用来学习 Bare metal programming。因为板子上集成了 ST-Link，所以也不需要再购买额外的编程器了，虽然我还有一个 Muse Lab 的 nanoDAP-HS 就是了。最后只需要安装好软件 stlink 和驱动可以正常进行烧录和调试了。
安装驱动
首先前往 ST 官网下载并安装驱动 STSW-LINK009。这一步没啥好说的，注册个账号然后下载安装就好。
安装 stlink 工具
可以直接从 stlink 的 GitHub releases 下载，也可以从源码编译安装。我是通过 Scoop 来安装的。

  
    
      
        
      
      Warning
    
   "><meta property="og:type" content="article"><meta property="og:url" content="https://pagliacii.github.io/silent-lake/blog/stlink-windows-scoop/"><meta property="og:image" content="https://pagliacii.github.io/silent-lake/images/social_card_bg_hu_6236e9ec42ffb05f.webp"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-11-23T18:13:58+08:00"><meta property="article:modified_time" content="2025-11-23T22:45:43+08:00"><meta property="og:site_name" content="Jason's blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pagliacii.github.io/silent-lake/images/social_card_bg_hu_6236e9ec42ffb05f.webp"><meta name=twitter:title content="在 Windows 上用 Scoop 安装 ST-Link 工具"><meta name=twitter:description content="最近入手了一块 STM32 Nucleo-144 board，用来学习 Bare metal programming。因为板子上集成了 ST-Link，所以也不需要再购买额外的编程器了，虽然我还有一个 Muse Lab 的 nanoDAP-HS 就是了。最后只需要安装好软件 stlink 和驱动可以正常进行烧录和调试了。
安装驱动
首先前往 ST 官网下载并安装驱动 STSW-LINK009。这一步没啥好说的，注册个账号然后下载安装就好。
安装 stlink 工具
可以直接从 stlink 的 GitHub releases 下载，也可以从源码编译安装。我是通过 Scoop 来安装的。

  
    
      
        
      
      Warning
    
   "><meta name=twitter:site content="@PagliaciiH"><meta itemprop=name content="在 Windows 上用 Scoop 安装 ST-Link 工具"><meta itemprop=description content="最近入手了一块 STM32 Nucleo-144 board，用来学习 Bare metal programming。因为板子上集成了 ST-Link，所以也不需要再购买额外的编程器了，虽然我还有一个 Muse Lab 的 nanoDAP-HS 就是了。最后只需要安装好软件 stlink 和驱动可以正常进行烧录和调试了。
安装驱动
首先前往 ST 官网下载并安装驱动 STSW-LINK009。这一步没啥好说的，注册个账号然后下载安装就好。
安装 stlink 工具
可以直接从 stlink 的 GitHub releases 下载，也可以从源码编译安装。我是通过 Scoop 来安装的。

  
    
      
        
      
      Warning
    
   "><meta itemprop=datePublished content="2025-11-23T18:13:58+08:00"><meta itemprop=dateModified content="2025-11-23T22:45:43+08:00"><meta itemprop=wordCount content="166"><meta itemprop=image content="https://pagliacii.github.io/silent-lake/images/social_card_bg_hu_6236e9ec42ffb05f.webp"><meta itemprop=keywords content><meta name=referrer content="no-referrer-when-downgrade"><link href=/silent-lake/original.min.css rel=stylesheet><link href=/silent-lake/syntax.min.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.21.2/tocbot.css><link href=/silent-lake/toc.min.css rel=stylesheet></head><body><header><a class=skip-link href=#main-content>Skip to main content</a>
<a href=/silent-lake/ class=title><h1>୧ʕ •ᴥ•ʔ୨ Silent Lake</h1></a><nav><a href=/silent-lake/>Home</a>
<a href=/silent-lake/blog/>Blog</a>
<a href=/silent-lake/tags/>Tags</a>
<a href=https://pagliacii.github.io/silent-lake/index.xml>RSS</a></nav></header><main id=main-content><h1>在 Windows 上用 Scoop 安装 ST-Link 工具</h1><p class=byline style=color:gray;font-size:.9rem>Published:
<time datetime='2025-11-23 18:13:58' pubdate>2025-11-23 18:13:58
</time>| Updated:
<time datetime='2025-11-23 22:45:43'>2025-11-23 22:45:43
</time>|
<span>200</span>
<span>words</span>
|
<span>1</span>
<span>mins</span></p><article class=article><aside class=sidebar><div class=toc-container><div style=font-weight:700;margin-bottom:.4rem>Table of Contents</div><div class=toc></div></div></aside><content class=content><p>最近入手了一块 <a href=https://www.st.com/resource/en/user_manual/um1974-stm32-nucleo144-boards-mb1137-stmicroelectronics.pdf>STM32 Nucleo-144 board</a>，用来学习 <a href=https://github.com/cpq/bare-metal-programming-guide>Bare metal programming</a>。因为板子上集成了 <a href=https://www.st.com/en/development-tools/stlink-v3set.html>ST-Link</a>，所以也不需要再购买额外的编程器了，虽然我还有一个 <a href=https://www.muselab-tech.com/>Muse Lab</a> 的 <a href=https://github.com/wuxx/nanoDAP-HS>nanoDAP-HS</a> 就是了。最后只需要安装好软件 <a href=https://github.com/stlink-org/stlink>stlink</a> 和<a href=https://www.st.com/en/development-tools/stsw-link009.html>驱动</a>可以正常进行烧录和调试了。</p><h2 id=安装驱动>安装驱动</h2><p>首先前往 ST 官网下载并安装驱动 <a href=https://www.st.com/en/development-tools/stsw-link009.html>STSW-LINK009</a>。这一步没啥好说的，注册个账号然后下载安装就好。</p><h2 id=安装-stlink-工具>安装 stlink 工具</h2><p>可以直接从 stlink 的 <a href=https://github.com/stlink-org/stlink/releases>GitHub releases</a> 下载，也可以从源码编译安装。我是通过 <a href=https://scoop.sh/>Scoop</a> 来安装的。</p><div class="alert alert-warning"><p class=alert-title><span class="alert-icon alert-warning-icon"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086.0l6.082 11.378A1.75 1.75.0 0114.082 15H1.918A1.75 1.75.0 01.375 12.425zm1.763.707a.25.25.0 00-.44.0L1.698 13.132a.25.25.0 00.22.368h12.164a.25.25.0 00.22-.368zm.53 3.996v2.5a.75.75.0 01-1.5.0v-2.5a.75.75.0 011.5.0zM9 11a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
Warning</span></p><p class=alert-text>通过 Scoop 安装 stlink 时会有个坑，后面会提到。</p></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln>1</span><span class=cl>$ scoop update
</span></span><span class=line><span class=ln>2</span><span class=cl>$ scoop install stlink
</span></span><span class=line><span class=ln>3</span><span class=cl>$ st-info --version
</span></span><span class=line><span class=ln>4</span><span class=cl>v1.8.0</span></span></code></pre></div><p>安装完成后就会有 <code>st-flash</code>，<code>st-info</code>，<code>st-trace</code> 和 <code>st-util</code> 这些命令行工具。</p><h2 id=坑>坑</h2><p>安装完成后，如果连接板子并执行 <code>st-info --chip-id</code>，或者 <code>st-flash --reset write</code> 之类的命令时，都会遇到下面的报错：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln>1</span><span class=cl>C:/Program Files (x86)/stlink/config/chips: No such file or directory
</span></span><span class=line><span class=ln>2</span><span class=cl>libusb: warning [winusb_get_device_list] failed to initialize device &#39;USB\VIDxxx&#39;</span></span></code></pre></div><p>这是因为 stlink 预期你会把文件解压到 <code>C:\Program Files</code> 或 <code>C:\Program Files (x86)</code> 下。</p><blockquote><p>From <a href=https://github.com/stlink-org/stlink#installation>stlink README</a>:</p><p>However we suggest to move the unzipped application folder to <code>C:\Program Files\</code> on 32-bit systems and to <code>C:\Program Files (x86)\</code> on 64-bit systems (the toolset is 32-bit).</p></blockquote><p>而 Scoop 安装的 stlink 会把相应的文件放到 <code>$SCOOP/apps/stlink/current/Program Files (x86)/</code> 下面，所以才会出现 <code>No such file or directory</code> 的报错。</p><p>要解决这个问题的话也很简单，要么直接把目录复制到 <code>C:\Program Files (x86)\</code> 下，要么就创建一个符号链接：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=ln>1</span><span class=cl><span class=c># 要管理员权限</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=nb>New-Item</span> <span class=n>-ItemType</span> <span class=n>Junction</span> <span class=n>-Path</span> <span class=s2>&#34;C:\Program Files (x86)\stlink&#34;</span> <span class=n>-Target</span> <span class=s2>&#34;</span><span class=nv>$env:SCOOP</span><span class=s2>\apps\stlink\current\Program Files (x86)\stlink&#34;</span></span></span></code></pre></div><p>问题解决。</p><h2 id=其他工具>其他工具</h2><ul><li><a href=https://developer.arm.com/Tools%20and%20Software/GNU%20Toolchain>gcc-arm-none-eabi</a>: <code>scoop install gcc-arm-none-eabi</code></li><li><a href=http://www.gnu.org/software/make/>make</a>: <code>scoop install make</code></li></ul><h2 id=开发板>开发板</h2><p><img src=https://github.com/user-attachments/assets/4b35aaab-4dcc-4868-82d6-58b452f23fff alt=board></p><p><img src=https://github.com/user-attachments/assets/a3591b56-dd42-451a-94d0-8851b97ea123 alt=shell></p><p><a href=https://makerworld.com.cn/zh/models/304239-nucleo-144wai-ke-stm32>外壳模型</a></p><div class="alert alert-note"><p class=alert-title><span class="alert-icon alert-note-icon"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1116 0A8 8 0 010 8zm8-6.5a6.5 6.5.0 100 13 6.5 6.5.0 000-13zM6.5 7.75A.75.75.0 017.25 7h1a.75.75.0 01.75.75v2.75h.25a.75.75.0 010 1.5h-2a.75.75.0 010-1.5h.25v-2h-.25a.75.75.0 01-.75-.75zM8 6a1 1 0 110-2 1 1 0 010 2z"/></svg>
Note</span></p><p class=alert-text>最好去掉外壳上下的定位柱，因为那些柱子需要把 2.54 排针插进去，
。但由于 3D 打印的精度问题，会导致插不进去，从而装不上外壳。</p></div></content></article><p style=display:flex;justify-content:space-between;align-items:center;margin-top:1.5rem><a href='mailto:huangmianrui0310@gmail.com?subject=Reply%20to%20"%e5%9c%a8%20Windows%20%e4%b8%8a%e7%94%a8%20Scoop%20%e5%ae%89%e8%a3%85%20ST-Link%20%e5%b7%a5%e5%85%b7"'>reply via e-mail</a>
<span class=copy-markdown-links><a href=javascript:void(0) onclick=copyMarkdown()>copy as</a> /
<a href=javascript:void(0) onclick=viewMarkdown() rel="noopener noreferrer">view</a>
markdown</span></p><script src=https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js></script><script>addBackToTop({cornerOffset:32,diameter:48,backgroundColor:"var(--flexoki-dark-cyan)",textColor:"var(--flexoki-50)",showWhenScrollTopIs:512})</script><script src=/silent-lake/js/copy-code-button.min.js></script><script src=/silent-lake/js/copy-markdown.min.js></script><link rel=stylesheet href=/silent-lake/css/copy-markdown.min.css><script src=https://giscus.app/client.js data-repo=Pagliacii/silent-lake data-repo-id=R_kgDOKgeurQ data-category=Comments data-category-id=DIC_kwDOKgeurc4CaZsJ data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=https://giscus.catppuccin.com/themes/latte.css data-lang=en data-loading=lazy crossorigin=anonymous async></script></main><footer><small><a href=https://github.com/Pagliacii>Jason Huang</a> © 2025 | Made With <a href=https://github.com/Pagliacii/hugo-bearberry>Bear Berry</a></small></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.21.2/tocbot.min.js></script><script src=/silent-lake/js/toc.min.js></script></body></html>